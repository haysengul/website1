<html>

<head>
<style type="text/css">
.inline {
  background-color: #f7f7f7;
  border:solid 1px #B0B0B0;
}
.error {
	font-weight: bold;
	color: #FF0000;
}
.warning {
	font-weight: bold;
}
.message {
	font-style: italic;
}
.source, .output, .warning, .error, .message {
	padding: 0 1em;
  border:solid 1px #F7F7F7;
}
.source {
  background-color: #f5f5f5;
}
.left {
  text-align: left;
}
.right {
  text-align: right;
}
.center {
  text-align: center;
}
.hl.num {
  color: #AF0F91;
}
.hl.str {
  color: #317ECC;
}
.hl.com {
  color: #AD95AF;
  font-style: italic;
}
.hl.opt {
  color: #000000;
}
.hl.std {
  color: #585858;
}
.hl.kwa {
  color: #295F94;
  font-weight: bold;
}
.hl.kwb {
  color: #B05A65;
}
.hl.kwc {
  color: #55aa55;
}
.hl.kwd {
  color: #BC5A65;
  font-weight: bold;
}
</style>
<title>R</title>
</head>

<style>
body { font-size: 1.5em;
}
</style>

<body>
<h3 align="center">Working With Vectors</h3>
<hr>
<br>

<p>R is used to analyze data. Data is in general in the form of data frame, a structure with rows and columns. Each column represents a variable to be analyzed, and can be considered as a vector. Therefore, it is important to know how to deal with vectors.</p>

<p>We will use an existing data set to manipulate vectors. This data set is known as "iris" and consists of 50 samples from each of three classes of iris flowers: sepal length, sepal width, petal length, petal width and class. We will be focusing on the variable sepal length.</p>

<div class="chunk" id="unnamed-chunk-1"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">head</span><span class="hl std">(iris)</span>        <span class="hl com"># gives us a look at the first few lines of this data set.</span>
</pre></div>
<div class="output"><pre class="knitr r">##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa
</pre></div>
</div></div>

<p>We will use the square bracket [ ] to extract infromation from a vector.</p>
<div class="chunk" id="unnamed-chunk-2"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">head</span><span class="hl std">(Sepal.Length)</span>   <span class="hl com"># got error message because R does not know which Sepal.Length we are working with</span>
</pre></div>
<div class="error"><pre class="knitr r">## Error in eval(expr, envir, enclos): object 'Sepal.Length' not found
</pre></div>
</div></div>

<div class="chunk" id="unnamed-chunk-3"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">head</span><span class="hl std">(iris</span><span class="hl opt">$</span><span class="hl std">Sepal.Length)</span>      <span class="hl com"># asks R to work with Sepal.Length of iris data set , that is why $ sign  </span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 5.1 4.9 4.7 4.6 5.0 5.4
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">attach</span><span class="hl std">(iris)</span>                 <span class="hl com"># makes iris data set available so that we do not need to use $ every time</span>
<span class="hl std">Sepal.Length[</span><span class="hl num">5</span><span class="hl std">]</span>              <span class="hl com"># extracts the 5th value   </span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 5
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">ext_1</span> <span class="hl kwb">&lt;-</span> <span class="hl std">Sepal.Length[</span><span class="hl num">5</span><span class="hl std">]</span>     <span class="hl com"># extracts the 5th value and assign it to a variable</span>
<span class="hl std">Sepal.Length[</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">1</span><span class="hl std">,</span> <span class="hl num">3</span><span class="hl std">,</span> <span class="hl num">12</span><span class="hl std">,</span> <span class="hl num">36</span><span class="hl std">)]</span> <span class="hl com"># extracts 1st, 3rd, 12tn and 36th element of Sepal.Lenght</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 5.1 4.7 4.8 5.0
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">Sepal.Length[</span><span class="hl num">6</span><span class="hl opt">:</span><span class="hl num">11</span><span class="hl std">]</span>           <span class="hl com"># extracts the values from 6th to 11th elements</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 5.4 4.6 5.0 4.4 4.9 5.4
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">detach</span><span class="hl std">(iris)</span>                 <span class="hl com"># do not forget to detach data set when you are done</span>
</pre></div>
</div></div>
<p>We can also use a logical expression to extract data from a vector. This is a really useful way to manipulate a vector.</p>

<div class="chunk" id="unnamed-chunk-4"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">attach</span><span class="hl std">(iris)</span>
<span class="hl std">Sepal.Length[Sepal.Length</span> <span class="hl opt">&gt;</span> <span class="hl num">7</span><span class="hl std">]</span>   <span class="hl com"># extracts all elements with a value greater than 7</span>
</pre></div>
<div class="output"><pre class="knitr r">##  [1] 7.1 7.6 7.3 7.2 7.7 7.7 7.7 7.2 7.2 7.4 7.9 7.7
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">Sepal.Length[Sepal.Length</span> <span class="hl opt">==</span> <span class="hl num">5.8</span><span class="hl std">]</span>  <span class="hl com"># extracts all elements with a value equal to 5.8</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 5.8 5.8 5.8 5.8 5.8 5.8 5.8
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">Sepal.Length[Sepal.Length</span> <span class="hl opt">&lt;=</span> <span class="hl num">4.5</span><span class="hl std">]</span>  <span class="hl com"># extracts all elements with a value less than or equal to 4.5</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 4.4 4.3 4.4 4.5 4.4
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">Sepal.Length[Sepal.Length</span> <span class="hl opt">&gt;</span> <span class="hl num">7</span> <span class="hl opt">&amp;</span> <span class="hl std">Sepal.Length</span> <span class="hl opt">!=</span> <span class="hl num">7.9</span><span class="hl std">]</span> <span class="hl com"># values greater than 7 and not equal to 7.9</span>
</pre></div>
<div class="output"><pre class="knitr r">##  [1] 7.1 7.6 7.3 7.2 7.7 7.7 7.7 7.2 7.2 7.4 7.7
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">Sepal.Length[Sepal.Length</span> <span class="hl opt">&gt;</span> <span class="hl num">7.8</span> <span class="hl opt">|</span> <span class="hl std">Sepal.Length</span> <span class="hl opt">&lt;</span> <span class="hl num">4.5</span><span class="hl std">]</span> <span class="hl com"># values greater than 7.8 or less than 4.5</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 4.4 4.3 4.4 4.4 7.9
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">detach</span><span class="hl std">(iris)</span>
</pre></div>
</div></div>

<p>We can also change the values of some elements in a vector if we want to. It is a better practice always to keep the original vector or data frame and create a copy just in case you want to change some values.</p>

<div class="chunk" id="unnamed-chunk-5"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">attach</span><span class="hl std">(iris)</span>
<span class="hl std">x1</span> <span class="hl kwb">&lt;-</span> <span class="hl std">Sepal.Length</span>        <span class="hl com"># keeps the original vector and create a copy of it</span>
<span class="hl std">x1[</span><span class="hl num">4</span><span class="hl std">]</span>                     <span class="hl com"># displays the 4th value </span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 4.6
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">x1[</span><span class="hl num">4</span><span class="hl std">]</span> <span class="hl kwb">&lt;-</span> <span class="hl num">4.8</span>
<span class="hl std">x1[</span><span class="hl num">4</span><span class="hl std">]</span>                     <span class="hl com"># displays the new value</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 4.8
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">x1[</span><span class="hl kwd">c</span><span class="hl std">(</span><span class="hl num">5</span><span class="hl std">,</span> <span class="hl num">6</span><span class="hl std">)]</span> <span class="hl kwb">&lt;-</span> <span class="hl num">4.9</span>        <span class="hl com"># replaces the 5th and 6th element with 4.9</span>
<span class="hl std">x1[x1</span> <span class="hl opt">&lt;</span> <span class="hl num">4.5</span><span class="hl std">]</span> <span class="hl kwb">&lt;-</span> <span class="hl num">5.1</span>       <span class="hl com"># replaces values that are less than 4.5 with 5.1</span>
<span class="hl kwd">detach</span><span class="hl std">(iris)</span>
</pre></div>
</div></div>

<p>Next thing we will learn is how to order the values in a vector.</p>

<div class="chunk" id="unnamed-chunk-6"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">attach</span><span class="hl std">(iris)</span>
<span class="hl std">x1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">sort</span><span class="hl std">(Sepal.Length)</span>       <span class="hl com"># sorts the values from lowest to highest </span>
<span class="hl kwd">head</span><span class="hl std">(x1)</span>                       <span class="hl com"># displays the first ten values</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 4.3 4.4 4.4 4.4 4.5 4.6
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">x2</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">sort</span><span class="hl std">(Sepal.Length,</span> <span class="hl kwc">decreasing</span> <span class="hl std">=</span> <span class="hl num">TRUE</span><span class="hl std">)</span>     <span class="hl com"># reverses the sort from highest to lowest</span>
<span class="hl kwd">head</span><span class="hl std">(x2)</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 7.9 7.7 7.7 7.7 7.7 7.6
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl com"># Next line will also do the same thing by using sort() and rev() function together</span>
<span class="hl std">x2</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">rev</span><span class="hl std">(</span><span class="hl kwd">sort</span><span class="hl std">(Sepal.Length))</span>     <span class="hl com"># first sort the vector and then reverse the sorted vector</span>
<span class="hl kwd">detach</span><span class="hl std">(iris)</span>
</pre></div>
</div></div>

<p>If we want to sort one vector according to the values of another vector, we should use the order() function. The trick with the order() function is that it will return the ascending or decending position of each element, not the values. Then we can use those positions, which is a vector, to see the sorted valuesof the other vectors. </p>

<div class="chunk" id="unnamed-chunk-7"><div class="rcode"><div class="source"><pre class="knitr r"><span class="hl kwd">attach</span><span class="hl std">(iris)</span>
<span class="hl std">x1</span> <span class="hl kwb">&lt;-</span> <span class="hl kwd">order</span><span class="hl std">(Sepal.Length)</span>        <span class="hl com"># creates a vector of the positions of the ascending values</span>
<span class="hl kwd">head</span><span class="hl std">(x1)</span>   <span class="hl com"># smallest value of the vector is the 14th element of this vector and so on</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 14  9 39 43 42  4
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">x2</span> <span class="hl kwb">&lt;-</span> <span class="hl std">Sepal.Length[x1]</span>     <span class="hl com"># Sepal.Length is not a function. It is a vector. That's why we use [ ]</span>
<span class="hl kwd">head</span><span class="hl std">(x2)</span>              <span class="hl com"># displays the ascending values of the vector by using x1</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 4.3 4.4 4.4 4.4 4.5 4.6
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">x3</span> <span class="hl kwb">&lt;-</span> <span class="hl std">Petal.Length[x1]</span>      <span class="hl com">#  displays the values of another vector according to the sorted vector </span>
<span class="hl kwd">head</span><span class="hl std">(x3)</span>     <span class="hl com"># the smallest value (4.3) of Sepal.Length corresponds to the value (1.1) of Petal.Length      </span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] 1.1 1.4 1.3 1.3 1.3 1.5
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl std">x4</span> <span class="hl kwb">&lt;-</span> <span class="hl std">Species[x1]</span>     <span class="hl com"># Species is a character variable.</span>
<span class="hl kwd">head</span><span class="hl std">(x4)</span>          <span class="hl com"># The smallest 6 values of Sepal.Length belongs to the &quot;setosa&quot; species</span>
</pre></div>
<div class="output"><pre class="knitr r">## [1] setosa setosa setosa setosa setosa setosa
## Levels: setosa versicolor virginica
</pre></div>
<div class="source"><pre class="knitr r"><span class="hl kwd">detach</span><span class="hl std">(iris)</span>
</pre></div>
</div></div>


</body>
</html>
